<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scroll Animation with Responsive iPhone Image</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 300%; /* Adjust this depending on your content */
    background-color: #f3f3f3;
  }
  .section {
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }
  #iphone-section {
    min-height: 150vh; /* Give more space for the iPhone to slide in */
  }
  .logo {
    background-image: url('assets/img/logo.png');
    background-size: contain;
    background-repeat: no-repeat;
    width: 10%; /* Responsive width */
    height: 10vh; /* Responsive height, maintaining aspect ratio */
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: transform 1s;
    z-index: 10;
  }
  .iphone-shape {
    width: 60vw; /* Responsive width based on viewport width */
    max-width: 300px; /* Maximum size */
    position: fixed;
    bottom: -100%; /* Start off-screen */
    left: 50%;
    transform: translateX(-50%);
    transition: bottom 1s ease-out, transform 1s ease-out;
    z-index: 5;
  }
</style>
</head>
<body>

<div class="section" id="start-section">
  <!-- Just a spacer section -->
</div>

<div class="section" id="iphone-section">
  <img class="iphone-shape" src="https://upload.wikimedia.org/wikipedia/commons/9/9f/IPhone_14_Pro_vector.svg" alt="iPhone Shape"/>
</div>

<div class="logo" id="logo"></div>

<script>
  // Function to map scroll range to a specific range
  function mapRange(value, a, b, c, d) {
    // First map value from (a..b) to (0..1)
    value = (value - a) / (b - a);
    // Then map it from (0..1) to (c..d) and clamp the result
    return Math.max(Math.min(c + value * (d - c), Math.max(c, d)), Math.min(c, d));
  }

  window.addEventListener('scroll', () => {
    const logo = document.getElementById('logo');
    const iphoneShape = document.querySelector('.iphone-shape');
    const startSection = document.getElementById('start-section');
    const iphoneSection = document.getElementById('iphone-section');

    const startSectionEnd = startSection.offsetTop + startSection.offsetHeight;
    const iphoneSectionEnd = iphoneSection.offsetTop + iphoneSection.offsetHeight;

    const scrollPosition = window.scrollY;

    // Determine how far through the section we've scrolled
    let scrollRange = iphoneSectionEnd - startSectionEnd;
    let scrollProgress = scrollPosition - startSectionEnd;
    
    // Prevent the animation from reversing once the section has been scrolled past
    scrollProgress = Math.max(scrollProgress, 0);

    // Calculate scale and bottom position based on scroll position
    let scale = mapRange(scrollProgress, 0, scrollRange, 1, 0.1);
    let bottomPosition = mapRange(scrollProgress, 0, scrollRange, -100, 0);

    // Apply the calculated scale and bottom position
    logo.style.transform = `translate(-50%, -50%) scale(${scale})`;
    iphoneShape.style.bottom = `${bottomPosition}%`;
  });
</script>


</body>
</html>
